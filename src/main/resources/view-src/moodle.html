<!DOCTYPE html>
<html>
	<head>
		<title>{{#i18n}}moodle.title{{/i18n}}</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<script src="/moodle/public/dist/entcore/ng-app.js" type="text/javascript" id="context"></script>
		<script src="/moodle/public/dist/application.js" type="text/javascript"></script>
		<script type="text/ng-template" id="empty"></script>
	</head>
	<body ng-controller="MoodleController" class="moodle">
		<portal>
			<div class="row">
				<h1><i18n>moodle.title</i18n></h1>
				<div class="row twelve cell tabs" style="min-height: 60px;">
					<div class="cell">
						<header class="horizontal-spacing selected" data-ng-click="switchTab('dashboard')" data-ng-class="{ selected: currentTab === 'dashboard' }">
							<span>
								<i18n>moodle.dashboard.dashboard</i18n>
							</span>
						</header>
						<header class="horizontal-spacing " data-ng-click="switchTab('courses')" data-ng-class="{ selected: currentTab === 'courses' }">
							<span>
								<i18n>moodle.dashboard.coures</i18n>
							</span>
						</header>
						<header class="horizontal-spacing" data-ng-click="switchTab('library')" data-ng-class="{ selected: currentTab === 'library' }">
							<span>
								<i18n>moodle.dashboard.libraries</i18n>
							</span>
						</header>
					</div>
					<input type="submit" i18n-value="moodle.course.new" ng-click="openPopUp()" class="right-magnet">
				</div>
			</div>
            <lightbox class="row" show="openLightbox == true" on-close="closePopUp()">
                <h2 class="row twelve"><i18n>moodle.course.information</i18n></h2>
                <div class="twelve cell row select-type-buttons">
                    <div class="cell six horizontal-spacing">
                        <label class="courseButton course twelve" ng-class="{ selected: course.type == '1' }">
                            <i18n>COURSE</i18n>
                            <input type="radio" value="1" name="courseType" class="zero-desktop zero-mobile" ng-model="course.type">
                        </label>
                    </div>
                    <div class="cell six horizontal-spacing">
                        <label class="courseButton activity twelve" ng-class="{ selected: course.type == '2' }">
                            <i18n>ACTIVITY</i18n>
                            <input type="radio" value="2" name="courseType" class="zero-desktop zero-mobile" ng-model="course.type">
                        </label>
                    </div>
                </div>
                <div class="horizontal-spacing seven vertical-spacing">
                    <label class="row twelve">
                        <span class="row label-input-row"><i18n>moodle.course.name.long</i18n>*</span>
                        <input type="text" class="twelve" required i18n-placeholder="write.here" ng-model="course.fullname">
                    </label>
                    <label class="row twelve">
                        <span class="row label-input-row"><i18n>moodle.course.description</i18n></span>
                        <input type="text" class="twelve" i18n-placeholder="write.here" ng-model="course.summary">
                    </label>
                </div>
                <div class="row horizontal-spacing">
                    <span class="row label-input-row"><i18n>moodle.course.image</i18n></span>
                    <image-select class="three cell" default="/img/illustrations/image-default.svg" ng-model="course.imageurl"></image-select>
                </div>
                <div class="row horizontal-spacing" ng-if="course.type == 2">
                    <label>
                        <span class="row label-input-row"><i18n>moodle.activity.type</i18n>*</span>
                    </label>
                    <select ng-model="course.typeA" ng-required="course.type == 2">
                        <option>quiz</option>
                        <option>file</option>
                        <option>page</option>
                        <option>assignment</option>
                    </select>
                </div>
                <div class="row">
                    <div class="right-magnet">
                        <input type="button" class="cancel" i18n-value="cancel" ng-click="closePopUp()"/>
                        <input type="submit" class="button" i18n-value="validate" ng-click="createCourse()" ng-disabled="course.fullname == undefined"/>
                    </div>
                </div>
            </lightbox>
			<container template="main"></container>
		</portal>
	</body>
</html>
